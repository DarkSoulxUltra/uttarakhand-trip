<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JARVIS â€“ Uttarakhand Trip Console</title>

<style>
body{margin:0;font-family:system-ui;background:#020617;color:#67e8f9}
h1{text-align:center}
.container{max-width:1200px;margin:auto;padding:12px}
.layout{display:flex;flex-wrap:wrap;gap:12px}
.timeline{flex:1;min-width:200px}
.card{border:1px solid #164e63;border-radius:10px;padding:8px;margin-bottom:6px;cursor:pointer}
.card.active{background:#022c22;border-color:#22d3ee}
.content{flex:3;min-width:280px}
.hero{width:100%;height:230px;object-fit:cover;border-radius:10px;border:1px solid #164e63}
.gallery{display:flex;gap:6px;overflow-x:auto}
.gallery img{height:60px;border-radius:8px;border:1px solid #164e63;cursor:pointer}
canvas{background:#020617;border:1px solid #164e63;border-radius:10px;width:100%;height:220px}
.meter{height:8px;background:#164e63;border-radius:8px}
.meter span{display:block;height:100%;background:#22d3ee}
.btn{background:#22d3ee;color:black;border:none;padding:8px 14px;border-radius:8px;font-weight:600}
input{padding:6px;border-radius:6px;border:none}
.section{border:1px solid #164e63;border-radius:10px;padding:10px;margin:10px 0}
</style>
</head>

<body>

<div class="container">
<h1>J.A.R.V.I.S â€” Uttarakhand Trip Console</h1>

<canvas id="map"></canvas>

<div class="layout">
  <div class="timeline" id="timeline"></div>
  <div class="content" id="content"></div>
</div>

<div class="section">
<h3>ðŸ‘¥ Participants & Voting</h3>
<input id="name" placeholder="Name">
<button class="btn" onclick="addPerson()">Add</button>
<ul id="people"></ul>
</div>

<div class="section">
<h3>ðŸ’¸ Expense Split</h3>
Total Expense â‚¹ <input id="total" type="number">
<button class="btn" onclick="split()">Split</button>
<p id="splitResult"></p>
</div>

</div>

<script>
const days=[
{city:"Delhi",title:"Night Bus",crowd:20,budget:2500,images:["images/delhi_bus.jpg"]},
{city:"Haridwar",title:"Ganga Aarti",crowd:85,budget:3000,images:["images/haridwar_aarti.jpg"]},
{city:"Rishikesh/Dehradun",title:"Shiva + FRI",crowd:60,budget:3500,images:["images/rishikesh_shiva.jpg","images/fri_dehradun.jpg"]},
{city:"Dehradun/Mussoorie",title:"Buddha + Garden",crowd:70,budget:3000,images:["images/buddha_temple.jpg","images/company_garden.jpg"]},
{city:"Mussoorie",title:"Falls + Camel Road",crowd:90,budget:2500,images:["images/kempty_falls.jpg","images/camels_back.jpg"]}
];

let active=0,img=0;

const timeline=document.getElementById("timeline");
const content=document.getElementById("content");

/* -------- TIMELINE -------- */
days.forEach((d,i)=>{
 let div=document.createElement("div");
 div.className="card"+(i===0?" active":"");
 div.innerHTML=`<b>${d.city}</b><br>${d.title}`;
 div.onclick=()=>select(i);
 timeline.appendChild(div);
});

/* -------- MAP -------- */
const map=document.getElementById("map");
const ctx=map.getContext("2d");

function drawMap(){
 map.width=map.offsetWidth;
 map.height=map.offsetHeight;
 const pts=[80,150,250,420,600];
 ctx.clearRect(0,0,map.width,map.height);
 ctx.strokeStyle="#22d3ee";ctx.lineWidth=3;
 ctx.beginPath();
 ctx.moveTo(pts[0],110);
 for(let i=1;i<pts.length;i++) ctx.lineTo(pts[i],110);
 ctx.stroke();
 pts.forEach((x,i)=>{
   ctx.fillStyle=i===active?"#22d3ee":"#164e63";
   ctx.beginPath();ctx.arc(x,110,8,0,Math.PI*2);ctx.fill();
 });
}
window.onresize=drawMap;

/* -------- CONTENT -------- */
function render(){
 const d=days[active];
 const total=days.reduce((a,b)=>a+b.budget,0);
 content.innerHTML=`
 <h2>${d.title}</h2>
 <div class="meter"><span style="width:${d.crowd}%"></span></div>
 <p>${d.crowd}% crowd</p>
 <img class="hero" src="${d.images[img]}">
 <div class="gallery">
   ${d.images.map((x,i)=>`<img src="${x}" onclick="img=${i};render()">`).join("")}
 </div>
 <p><b>Budget Today:</b> â‚¹${d.budget}</p>
 <p><b>Total Trip Est:</b> â‚¹${total}</p>
 `;
 document.querySelectorAll(".card").forEach((c,i)=>c.classList.toggle("active",i===active));
 drawMap();
}

function select(i){active=i;img=0;render();}

/* -------- PARTICIPANTS -------- */
let people=[];
function addPerson(){
 const n=document.getElementById("name").value;
 if(!n) return;
 people.push(n);
 document.getElementById("people").innerHTML=people.map(p=>`<li>${p}</li>`).join("");
}

/* -------- SPLIT -------- */
function split(){
 const total=document.getElementById("total").value;
 if(!total||people.length===0) return;
 const per=(total/people.length).toFixed(2);
 document.getElementById("splitResult").innerText=`Each pays: â‚¹${per}`;
}

render();
</script>
</body>
</html>
